{% extends 'AppZorro/base.html' %}

{% load static %}

{% block title %}El Zorrito | Caja {% endblock title %}

{% block subtitulo %}  Movimientos de caja {% endblock subtitulo %}

{% block main %}
<div class="container py-1 h-50">
                                    <!-- Ventana modal -->
<div id="miModal" style="display: none; width: 100%">
    <img style="width: 100%" id="imagenModal" src="{{object.comprobante.comprobante.url}}" alt="Imagen">
</div>

<div id="todo" class="row d-flex justify-content-center align-items-center h-100">
    <div class="col-xl-5">
        <div class="card rounded-3 text-black">
            <div class="card-body p-md-5 mx-md-4">
                
                <div class="text-center">
                    <h2 class="mt-1 mb-3 pb-1">Detalle de movimiento</h2>
                    <table class="table">
                        <tbody>
                          <tr>
                            <th scope="row">Id</th>
                            <td>{{ object.id }}</td>
                          </tr>
                          <tr>
                            <th scope="row">Fecha</th>
                            <td>{{ object.fecha|date:"d/m/Y" }}</td>
                          </tr>
                          <tr>
                            <th scope="row">Detalle</th>
                            <td>{{ object.detalle }}</td>
                          </tr>
                          <tr>
                            <th scope="row">Rubro</th>
                            <td>{{ object.rubro }}</td>
                          </tr>
                          <tr>
                            {% if object.ingreso > 0 %}
                            <th scope="row">Ingreso</th>
                            <td>$ {{ object.ingreso|floatformat:"2g" }}</td>
                            {% endif %}
                            {% if object.egreso > 0 %}
                            <th scope="row">Gasto</th>
                            <td>$ {{ object.egreso|floatformat:"2g" }}</td>
                            {% endif %}
                          </tr>
                          <tr>
                            <th scope="row">Creado por</th>
                            <td>{{ object.autor }}</td>
                          </tr>
                          <tr>
                            <th scope="row">El d√≠a</th>
                            <td>{{ object.action_time|date:'d/m/Y H:i' }}</td>
                          </tr>
                          <tr>
                            <th scope="row">Comprobante</th>
                            <td>
                                <a href="javascript:mostrarImagen();"><img style="width: 60px" src="{{object.comprobante.comprobante.url}}" alt="Imagen"></a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="d-flex align-items-center justify-content-center pb-4">
                        <a type="button"  class="btn btn-secondary btn-me" href="{% url 'Movimientos' %}">Volver al listado</a>
                        <div class="col-xl-1"></div>
                        <a type="button" class="btn btn-outline-danger" href="">Editar Movimiento</a>
                      </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<script>
    function mostrarImagen() {
        var modal = document.getElementById("miModal");
        modal.style.display = "block";
        modal.onclick = function() {
            modal.style.display = "none";
        }
    }
</script>

{% endblock main %}


